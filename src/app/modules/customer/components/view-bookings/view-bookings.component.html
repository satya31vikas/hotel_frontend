<div class="center-form">
  <h1 class="page-title">My Bookings</h1>

  <!-- Table -->
  <div class="table-container">
    <table class="custom-table">
      <thead>
        <tr>
          <th>Room Name</th>
          <th>Room Type</th>
          <th>Check In</th>
          <th>Check Out</th>
          <th>Price</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let booking of bookings">
          <td>{{ booking.roomName }}</td>
          <td>{{ booking.roomType }}</td>
          <td>{{ booking.checkInDate | date: 'dd MMM yyyy' }}</td>
          <td>{{ booking.checkoutDate | date: 'dd MMM yyyy' }}</td>
          <td>₹{{ booking.price }}</td>
          <td>
            <span class="tag pending" *ngIf="booking.reservationStatus === 'PENDING'">Pending</span>
            <span class="tag approved" *ngIf="booking.reservationStatus === 'APPROVED'">Approved</span>
            <span class="tag rejected" *ngIf="booking.reservationStatus === 'REJECTED'">Rejected</span>

            <div *ngIf="booking.reservationStatus === 'APPROVED' && !booking.paid">
              <button
                class="pay-btn"
                [routerLink]="['/customer/pay-bill', booking.id]"
                [queryParams]="{ amount: booking.price }"
              >
                Pay Bill
              </button>
            </div>
            <span *ngIf="booking.paid" class="tag-paid">✅ Paid</span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Pagination -->
  <div class="pagination">
    <button [disabled]="currentPage === 1" (click)="pageIndexChange(currentPage - 1)">Previous</button>
    <span>Page {{ currentPage }}</span>
    <button [disabled]="currentPage >= total / 5" (click)="pageIndexChange(currentPage + 1)">Next</button>
  </div>
</div>
